package clientWebservice;import java.io.File;import java.io.FileInputStream;import java.io.FileNotFoundException;import java.io.IOException;import java.io.InputStream;import java.util.Date;import java.util.Properties;import com.portal.pcm.EBufException;import com.portal.pcm.FList;import com.portal.pcm.Poid;import com.portal.pcm.PortalContext;import com.portal.pcm.PortalOp;import com.portal.pcm.fields.FldPoid;import com.portal.pcm.fields.FldVirtualT;/** * @uml.dependency   supplier="CustomRenewal.DBManager" */public class PortalInterface  {	/**	 * @uml.property  name="context"	 * @uml.associationEnd  multiplicity="(0 -1)" elementType="java.lang.Integer"	 */	public String url= null;	private PortalContext context = null;	public static final String YEAR_FORMAT = "yyyy";	public static final int CUR_EURO = 978;	public static final String DEFAULT_YEAR = "1970";	/**	 * @uml.property  name="prop"	 */	private Properties prop ;	/**	 * @uml.property  name="strInFList"	 */	String strInFList = null;	/**	 * @throws FileNotFoundException	 * @throws IOException	 * @throws EBufException	 */	public PortalInterface() throws FileNotFoundException, IOException,	EBufException {		openPortalContext();	}	/**	 * @throws FileNotFoundException	 * @throws IOException	 * @throws EBufException	 */	public PortalContext openPortalContext() throws FileNotFoundException,	IOException, EBufException {		prop = new Properties();				File file = new File(AcsLabels.PROP_CONTEXT_PATH);		FileInputStream fis;		fis = new FileInputStream(file);		prop.load((InputStream) fis);		context = new PortalContext(prop);		context.connect();		//System.out.println("asasa" + prop.getProperty("Log_FileName"));				url = prop.getProperty("webservice_url");	//	System.out.println(url);		return context;	}		public Date getPinVirtualTime()	throws EBufException {				//System.out.println("INSIDE getPinVirtualTime");		FList inFList = new FList();		FList outFList;				//System.out.println("DB1111: " + context.getCurrentDB());		inFList.set(FldPoid.getInst(), new Poid( context.getCurrentDB(), -1, "/account" ));		//logger.log("","","Call OPCODE GET_PIN_VIRTUAL_TIME :\n");		strInFList = inFList.asString();		//logger.log("","Input Flist :\n",strInFList);		//System.out.println("Input Flist :\n" + strInFList);		outFList = context.opcode( PortalOp.GET_PIN_VIRTUAL_TIME, inFList);		strInFList = outFList.asString();		//logger.log("pin_virtual_time :"+outFList.get(FldVirtualT.getInst()).toString());		//System.out.println("Output Flist :\n" + outFList.get(FldVirtualT.getInst()));		//System.out.println("pin_virtual_time123 :"+outFList.get(FldVirtualT.getInst()).toString());		return outFList.get(FldVirtualT.getInst());	}	}